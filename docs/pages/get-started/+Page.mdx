import { AlphaWarning, InstallCommand, NextSteps, Tabs } from '../../components'

<AlphaWarning />

Photon is a next-generation server toolkit designed for **library and framework developers** who need universal server capabilities.

## Who is Photon for?

Photon is primarily designed for:

- **Framework developers** building universal web frameworks
- **Library authors** creating server-agnostic tools
- **Platform builders** needing multi-runtime support
- **Advanced developers** who want maximum flexibility

If you're looking to build a simple web app, consider using frameworks built with Photon like [Vike](https://vike.dev) instead.

## Installation

<InstallCommand packages="@photonjs/core" title="Install Photon core:" />

Choose a server adapter:

<Tabs tabs={[
  {
    id: 'hono',
    label: 'Hono',
    content: <InstallCommand packages="@photonjs/hono" />
  },
  {
    id: 'express',
    label: 'Express',
    content: <InstallCommand packages="@photonjs/express" />
  },
  {
    id: 'h3',
    label: 'H3',
    content: <InstallCommand packages="@photonjs/h3" />
  },
  {
    id: 'fastify',
    label: 'Fastify',
    content: <InstallCommand packages="@photonjs/fastify" />
  },
  {
    id: 'elysia',
    label: 'Elysia',
    content: <InstallCommand packages="@photonjs/elysia" />
  },
  {
    id: 'hattip',
    label: 'HatTip',
    content: <InstallCommand packages="@photonjs/hattip" />
  }
]} />

### Basic Configuration

```ts
// vite.config.ts
import { photon } from '@photonjs/core/vite'

export default {
  plugins: [
    photon({
      server: './src/server.ts'
    })
  ]
}
```

### Create Your Server

Choose your preferred server framework. This example shows how to create a universal server that works across runtimes:

#### With Hono

```ts
// src/server.ts
import { Hono } from 'hono'
import { apply, serve } from '@photonjs/hono'

const app = new Hono()

app.get('/', (c) => c.text('Hello Photon!'))

apply(app)
export default serve(app)
```

#### With Express

```ts
// src/server.ts
import express from 'express'
import { apply, serve } from '@photonjs/express'

const app = express()

app.get('/', (req, res) => {
  res.send('Hello Photon!')
})

apply(app)
export default serve(app)
```

#### With Fastify

```ts
// src/server.ts
import Fastify from 'fastify'
import { apply, serve } from '@photonjs/fastify'

const app = Fastify()

app.get('/', async () => {
  return { message: 'Hello Photon!' }
})

apply(app)
export default serve(app)
```

## Development

Start the development server:

```bash
npm run dev
```

Your app will be available at `http://localhost:3000` with hot module replacement.

## Building

Build for production:

```bash
npm run build
```

## Building a Framework

If you're building a framework with Photon, consider:

1. **Universal middleware** - Create middleware that works across all server adapters
2. **Runtime detection** - Handle different deployment targets gracefully
3. **Type safety** - Leverage Photon's TypeScript support
4. **Documentation** - Help your users understand deployment options

<NextSteps steps={[
  {
    title: "Learn Core Concepts",
    description: "Understand Photon's philosophy and architecture",
    url: "/guide/concepts"
  },
  {
    title: "Framework Integration",
    description: "Learn how to integrate Photon into your framework",
    url: "/guide/framework-integration"
  },
  {
    title: "Server Frameworks",
    description: "Choose the right server framework for your needs",
    url: "/guide/server-frameworks"
  },
  {
    title: "Deployment Options",
    description: "Deploy your framework users' apps anywhere",
    url: "/guide/deploy"
  },
  {
    title: "Examples",
    description: "Study real-world integration examples",
    url: "https://github.com/photon-js/photon/tree/main/example",
    external: true
  },
  {
    title: "Get Help",
    description: "Ask questions and get support from the community",
    url: "https://github.com/photon-js/photon/discussions",
    external: true
  }
]} />

> **Note**: As Photon is in alpha, expect API changes and potential breaking updates. Follow the GitHub repository for the latest developments.
